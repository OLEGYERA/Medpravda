function adriver(e,t,r,i){var n=this,a=e;return this instanceof adriver?("string"==typeof a?a=document.getElementById(e):e=a.id,a||i?adriver(e)?adriver(e):(n.p=a,n.defer=r,n.prm=adriver.extend(t,{ph:e}),i||adriver.initQueue.push(function(){n.init()}),n.loadCompleteQueue=new adriver.queue,n.domReadyQueue=new adriver.queue(adriver.isDomReady),adriver.items[e]=n):(adriver.isDomReady||adriver.onDomReady(function(){new adriver(e,t,r,i)}),{})):e?adriver.items[e]:adriver.items}adriver.prototype={isLoading:0,init:function(){},load:function(){},reload:function(){},loadComplete:function(){},domReady:function(){},onLoadComplete:function(e){var t=this;return t.loadCompleteQueue.push(function(){e.call(t)}),t},onDomReady:function(e){return this.domReadyQueue.push(e),this},reset:function(){return this.loadCompleteQueue.flush(),this.domReadyQueue.flush(adriver.isDomReady),this}},adriver.extend=function(){for(var e,t,r=arguments[0],i=1,n=arguments.length;i<n;i++)for(t in e=arguments[i])e.hasOwnProperty(t)&&(e[t]instanceof Function?r[t]=e[t]:e[t]instanceof Object?r[t]?adriver.extend(r[t],e[t]):r[t]=adriver.extend(e[t]instanceof Array?[]:{},e[t]):r[t]=e[t]);return r},adriver.extend(adriver,{version:"2.3.11",defaults:{tail256:escape(document.referrer||"unknown")},items:{},options:{},plugins:{},pluginPath:{},redirectHost:"//ad.adriver.ru",defaultMirror:"//content.adriver.ru",loadScript:function(e){try{var t=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("charset","windows-1251"),r.setAttribute("src",e.split("![rnd]").join(Math.round(9999999*Math.random()))),r.onreadystatechange=function(){/loaded|complete/.test(this.readyState)&&(t.removeChild(r),r.onload=null)},r.onload=function(){t.removeChild(r)},t.insertBefore(r,t.firstChild)}catch(e){}},isDomReady:!1,onDomReady:function(e){adriver.domReadyQueue.push(e)},onBeforeDomReady:function(e){adriver.domReadyQueue.unshift(e)},domReady:function(){adriver.isDomReady=!0,adriver.domReadyQueue.execute()},checkDomReady:function(e){function r(){adriver.isDomReady||e()}var t,i=window,n=i.document,a=!1;if("complete"===n.readyState)r();else if(n.addEventListener)n.addEventListener("DOMContentLoaded",r,!1),i.addEventListener("load",r,!1);else{t=function(){"complete"===n.readyState&&(n.detachEvent("onreadystatechange",t),r())},n.attachEvent("onreadystatechange",t),i.attachEvent("onload",r);try{a=null===i.frameElement&&n.documentElement}catch(e){}a&&a.doScroll&&!function t(){if(!adriver.isDomReady){try{a.doScroll("left")}catch(e){return setTimeout(t,50)}r()}}()}},onLoadComplete:function(e){return adriver.loadCompleteQueue.push(e),adriver},checkLoadComplete:function(){var e,t;for(e in adriver.items)if(adriver.items.hasOwnProperty(e)&&!(t=adriver.items[e]).prm.onScroll&&void 0===t.reply)return!1;return!0},loadComplete:function(){return adriver.checkLoadComplete()&&adriver.loadCompleteQueue.execute(!1),adriver},setDefaults:function(e){adriver.extend(adriver.defaults,e)},setOptions:function(e){adriver.extend(adriver.options,e)},setPluginPath:function(e){adriver.extend(adriver.pluginPath,e)},queue:function(e){this.q=[],this.flag=!!e},Plugin:function(e){return this instanceof adriver.Plugin&&e&&!adriver.plugins[e]&&(this.id=e,this.q=new adriver.queue,adriver.plugins[e]=this),adriver.plugins[e]}}),adriver.sync=function(e,t){if(!adriver.syncFlag){adriver.syncFlag=1;for(var r=[];t--;)r[t]=t+1;r.sort(function(){return.5-Math.random()}),adriver.synchArray=r}return adriver.synchArray[(!e||e<=0?1:e)-1]},adriver.queue.prototype={push:function(e){this.flag?e():this.q.push(e)},unshift:function(e){this.flag?e():this.q.unshift(e)},execute:function(e){for(var t;t=this.q.shift();)t();null==e&&(e=!0),this.flag=!!e},flush:function(e){this.q.length=0,this.flag=!!e}},adriver.Plugin.prototype={loadingStatus:0,load:function(){this.loadingStatus=1,adriver.loadScript((adriver.pluginPath[this.id.split(".").pop()]||adriver.defaultMirror+"/plugins/")+this.id+".js")},loadComplete:function(){return this.loadingStatus=2,this.q.execute(),this},onLoadComplete:function(e){return this.q.push(e),this}},adriver.Plugin.require=function(){var e=this,t=0;e.q=new adriver.queue;for(var r,i=0,n=arguments.length;i<n;i++)2!=(r=new adriver.Plugin(arguments[i])).loadingStatus&&(t++,r.onLoadComplete(function(){1==t--&&e.q.execute()}),r.loadingStatus||r.load());t||e.q.execute()},adriver.Plugin.require.prototype.onLoadComplete=function(e){return this.q.push(e),this},adriver.domReadyQueue=new adriver.queue,adriver.loadCompleteQueue=new adriver.queue,adriver.initQueue=new adriver.queue,adriver.checkDomReady(adriver.domReady),new adriver.Plugin.require("autoUpdate.adriver").onLoadComplete(function(){adriver.initQueue.execute()});